var testMethod = require('./helpers/test.method.js');

var method = 'getBlock';

var blockResult = {
    "number": "0x1b4",
    "hash": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "parentHash": "0x9646252be9520f6e71339a8df9c55e4d7619deeb018d2a3f2d21fc165dde5eb5",
    "nonce": "0xe04d296d2460cfb8472af2c5fd05b5a214109c25688d3704aed5484f9a7792f2",
    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "logsBloom": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
    "stateRoot": "0xd5855eb08b3387c0af375e9cdb6acfc05eb8f519e419b874b6ff2ffda7ed1dff",
    "miner": "0x4e65fda2159562a496f9f3522f89122a3088497a",
    "difficulty": "0x027f07",
    "totalDifficulty":  "0x027f07",
    "size":  "0x027f07",
    "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "gasLimit": "0x9f759",
    "gasUsed": "0x9f759",
    "timestamp": "0x54e34e8e",
    "transactions": ['0x460cfb8472af2c5fd05b5a2','0x460cfb8472af2c5fd05b5a2'],
    "uncles": ["0x460cfb8472af2c5fd05b5a2", "0xd5460cfb8472af2c5fd05b5a2"]
};
var formattedBlockResult = {
    "number": 436,
    "hash": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "parentHash": "0x9646252be9520f6e71339a8df9c55e4d7619deeb018d2a3f2d21fc165dde5eb5",
    "nonce": "0xe04d296d2460cfb8472af2c5fd05b5a214109c25688d3704aed5484f9a7792f2",
    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "logsBloom": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
    "stateRoot": "0xd5855eb08b3387c0af375e9cdb6acfc05eb8f519e419b874b6ff2ffda7ed1dff",
    "miner": "0x4E65FDa2159562a496F9f3522f89122A3088497a",
    "difficulty": '163591',
    "totalDifficulty": '163591',
    "size":  163591,
    "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "gasLimit": 653145,
    "gasUsed": 653145,
    "timestamp": 1424182926,
    "transactions": ['0x460cfb8472af2c5fd05b5a2','0x460cfb8472af2c5fd05b5a2'],
    "uncles": ["0x460cfb8472af2c5fd05b5a2", "0xd5460cfb8472af2c5fd05b5a2"]
};
var blockResultWithTx = {
    "number": "0x1b4",
    "hash": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "parentHash": "0x9646252be9520f6e71339a8df9c55e4d7619deeb018d2a3f2d21fc165dde5eb5",
    "nonce": "0xe04d296d2460cfb8472af2c5fd05b5a214109c25688d3704aed5484f9a7792f2",
    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "logsBloom": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
    "stateRoot": "0xd5855eb08b3387c0af375e9cdb6acfc05eb8f519e419b874b6ff2ffda7ed1dff",
    "miner": "0x4e65fda2159562a496f9f3522f89122a3088497a",
    "difficulty": "0x027f07",
    "totalDifficulty":  "0x027f07",
    "size":  "0x027f07",
    "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "gasLimit": "0x9f759",
    "gasUsed": "0x9f759",
    "timestamp": "0x54e34e8e",
    "transactions": [{
        "status": "mined",
        "hash":"0xc6ef2fc5426d6ad6fd9e2a26abeab0aa2411b7ab17f30a99d3cb96aed1d1055b",
        "nonce":"0x2",
        "blockHash": "0x6fd9e2a26ab",
        "blockNumber": "0x15df",
        "transactionIndex":  "0x1",
        "from":"0x407d73d8a49eeb85d32cf465507dd71d507100c1",
        "to":"0x85f43d8a49eeb85d32cf465507dd71d507100c1d",
        "value":"0x7f110",
        "gas": "0x7f110",
        "gasPrice":"0x09184e72a000",
        "input":"0x603880600c6000396000f30060",
    }],
    "uncles": ["0x460cfb8472af2c5fd05b5a2", "0xd5460cfb8472af2c5fd05b5a2"]
};
var formattedBlockResultWithTx = {
    "number": 436,
    "hash": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "parentHash": "0x9646252be9520f6e71339a8df9c55e4d7619deeb018d2a3f2d21fc165dde5eb5",
    "nonce": "0xe04d296d2460cfb8472af2c5fd05b5a214109c25688d3704aed5484f9a7792f2",
    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "logsBloom": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
    "transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
    "stateRoot": "0xd5855eb08b3387c0af375e9cdb6acfc05eb8f519e419b874b6ff2ffda7ed1dff",
    "miner": "0x4E65FDa2159562a496F9f3522f89122A3088497a",
    "difficulty": '163591',
    "totalDifficulty": '163591',
    "size":  163591,
    "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "gasLimit": 653145,
    "gasUsed": 653145,
    "timestamp": 1424182926,
    "transactions": [{
        "status": "mined",
        "hash":"0xc6ef2fc5426d6ad6fd9e2a26abeab0aa2411b7ab17f30a99d3cb96aed1d1055b",
        "nonce": 2,
        "blockHash": "0x6fd9e2a26ab",
        "blockNumber": 5599,
        "transactionIndex":  1,
        "from":"0x407D73d8a49eeb85D32Cf465507dd71d507100c1",
        "to":"0x85F43D8a49eeB85d32Cf465507DD71d507100C1d",
        "value": '520464',
        "gas": 520464,
        "gasPrice": '10000000000000',
        "input":"0x603880600c6000396000f30060",
    }],
    "uncles": ["0x460cfb8472af2c5fd05b5a2", "0xd5460cfb8472af2c5fd05b5a2"]
};

var safeFormattedBlockResult = {
    "baseFeePerGas":44803,
    "difficulty":"0",
    "extraData":"0x",
    "gasLimit":30000000,
    "gasUsed":6477149,
    "hash":"0xcb51d46341a9a316f4e143b04be9e644b1e143e41848f7dd67e1b9442b4876cc",
    "logsBloom":"0x00000000000002040010000004000000000000000000000000000000020200008000000000002000000000000003000200000000000010801004000000200000040000000001000100800008404000000000200002001000000020000801000800000000800000000000000000000000000010000000400000000090000100400041000000000000000000000800000004000020000000000008000000000010020000000000000000100000000000000000000002200000000000000000000000000002000000100000000010200000000000000000000000000000000000000a10000000010040001000000000000000000000000000000000001000004000",
    "miner":"0xf36F155486299eCAff2D4F5160ed5114C1f66000",
    "mixHash":"0x4d5d15ca1eda6bba206d8bb97a770167c04c49a46787c7c0568fdc02aeba432b",
    "nonce":"0x0000000000000000",
    "number":7517710,
    "parentHash":"0xb0be07f2c34ebac06481618e957642a15c593083242395f473d76e01270ae309",
    "receiptsRoot":"0x3dbe3153f6e06a6bf17ca3d386bf00750425dd6b76e802b0f7f4888972271dd0",
    "sha3Uncles":"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "size":10925,
    "stateRoot":"0x9c2bb3ab08ec4936ba3782901101c282dc64f0705e20b6f09d354dbc40e84fe6",
    "timestamp":1662145956,
    "totalDifficulty":"10790000",
    "transactions":[
       "0x2f5d625dfd7bc02add3061896a7e29d098b7dc71b6df355614b8213492696ffb",
       "0xc5053eda6c5e111d76719f48b63facfea393ec7141201d4b97a8c5d25e68dc12",
       "0xa1d61daa2ddd626e317a8f0fe20e6f7a3f6a28cfadb7145afc7e828310d526e1",
       "0xb92d5a06a1d650885126eb6e77e77b17928fac0fa920a3be13e55ce7503c50c1",
       "0x6312bb1438deecd3e8f5415a7d37ac1a7918d76adfe6c7360cac6281b23e1e03",
       "0x6ccfbdb3bdce06c1976eee513566f9a822c7f043646c7858aeafde693a9a3866",
       "0xb9ef13df852886f9c408feb788584b418845e648d3d9fad8f822fc6992e9ee17",
       "0x047da374b18f729f1e10e6a417c7dd95391878d620a0cffa805fdd4a07f428b0"
    ],
    "transactionsRoot":"0xa45b7dc2896ae34bd76ceed185decbf2aa1316fc4b23b26d64cdb116692aa368",
    "uncles":[
       
    ]
 };

var safebBockResult = {
        "baseFeePerGas": "0xaf03",
        "difficulty": "0x0",
        "extraData": "0x",
        "gasLimit": "0x1c9c380",
        "gasUsed": "0x62d55d",
        "hash": "0xcb51d46341a9a316f4e143b04be9e644b1e143e41848f7dd67e1b9442b4876cc",
        "logsBloom": "0x00000000000002040010000004000000000000000000000000000000020200008000000000002000000000000003000200000000000010801004000000200000040000000001000100800008404000000000200002001000000020000801000800000000800000000000000000000000000010000000400000000090000100400041000000000000000000000800000004000020000000000008000000000010020000000000000000100000000000000000000002200000000000000000000000000002000000100000000010200000000000000000000000000000000000000a10000000010040001000000000000000000000000000000000001000004000",
        "miner": "0xf36f155486299ecaff2d4f5160ed5114c1f66000",
        "mixHash": "0x4d5d15ca1eda6bba206d8bb97a770167c04c49a46787c7c0568fdc02aeba432b",
        "nonce": "0x0000000000000000",
        "number": "0x72b60e",
        "parentHash": "0xb0be07f2c34ebac06481618e957642a15c593083242395f473d76e01270ae309",
        "receiptsRoot": "0x3dbe3153f6e06a6bf17ca3d386bf00750425dd6b76e802b0f7f4888972271dd0",
        "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
        "size": "0x2aad",
        "stateRoot": "0x9c2bb3ab08ec4936ba3782901101c282dc64f0705e20b6f09d354dbc40e84fe6",
        "timestamp": "0x631255a4",
        "totalDifficulty": "0xa4a470",
        "transactions": [
            "0x2f5d625dfd7bc02add3061896a7e29d098b7dc71b6df355614b8213492696ffb",
            "0xc5053eda6c5e111d76719f48b63facfea393ec7141201d4b97a8c5d25e68dc12",
            "0xa1d61daa2ddd626e317a8f0fe20e6f7a3f6a28cfadb7145afc7e828310d526e1",
            "0xb92d5a06a1d650885126eb6e77e77b17928fac0fa920a3be13e55ce7503c50c1",
            "0x6312bb1438deecd3e8f5415a7d37ac1a7918d76adfe6c7360cac6281b23e1e03",
            "0x6ccfbdb3bdce06c1976eee513566f9a822c7f043646c7858aeafde693a9a3866",
            "0xb9ef13df852886f9c408feb788584b418845e648d3d9fad8f822fc6992e9ee17",
            "0x047da374b18f729f1e10e6a417c7dd95391878d620a0cffa805fdd4a07f428b0"
        ],
        "transactionsRoot": "0xa45b7dc2896ae34bd76ceed185decbf2aa1316fc4b23b26d64cdb116692aa368",
        "uncles": []
};

var finalizedFormattedBlockResult = {
    "baseFeePerGas":44968,
    "difficulty":"0",
    "extraData":"0x",
    "gasLimit":30000000,
    "gasUsed":7333379,
    "hash":"0x7e382e9aa0e4dd7dab6db4b779f8f61c455042b1a823ccf58ffca6c9c2f2d275",
    "logsBloom":"0x0404000000000000001088800000020200000000000001000000000000021000008204000802000240280100000400840004810000001084100410000420000000000001000100004080000800400000005020000000000000000000000100080000000000000000200000000000000400000002000040000000001000000040000100000000000000000000000010000000000020000101000800004000080002080000000000004000010000140000000000044000000001020000000000000000800a000000080000000000020000000000000000000200800000000000000010010000000000000000000000000000000042088000000000000000000000",
    "miner":"0xf36F155486299eCAff2D4F5160ed5114C1f66000",
    "mixHash":"0x1192b7ba3c7182ba4846966f806329c7be8b86ec8c71cf8249b241a97ba37cee",
    "nonce":"0x0000000000000000",
    "number":7517712,
    "parentHash":"0xc9603eaeb821c54caa41572df370e93ee961d36da1f0f8a51c55482927d6aa39",
    "receiptsRoot":"0xb8f30f6c441e5b084a5f0dba5a75e500c3c579029d578412a5c8a4c382af8360",
    "sha3Uncles":"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "size":22157,
    "stateRoot":"0xf40589dfe7bbfbc5ce8fe46b2bc7a06514e409c1983d82943e986a338484d611",
    "timestamp":1662145980,
    "totalDifficulty":"10790000",
    "transactions":[
       "0x3bde2fdd34b02f186d636c93158424f1b91ffbb45483fd7faadfbf07f33d0fe7",
       "0x572e35d98626280598b4199d506ad49eeb38664abbec0ac054418327c7e0a324",
       "0x1d349d2638aaefea8474adcd8c5780d8045f5e9c85c2768d18831511439bde75",
       "0xa8d65c4d94ff8807e6ef5d51c41f6a022e34dfedf2d5e503ee6278417a8995b9",
       "0x1438bca1e8a0d9afb6605f4bb2154fa57151a073e667e1029ce9ea9b2f0c6174",
       "0xd0eef7f30f5709528b498e54ada5bbfc3507c446f95600722171f4cf95da41ce",
       "0x900039cfea67e39af52571720f86fb3e08de9e1f69cb037fbe61229b46103b67",
       "0x19c347dfae117e936b3310935286b33a3115db4d4adfa6cf3d6ee4e980c1122d"
    ],
    "transactionsRoot":"0x8e5f3c430729222e3b152ca820a44b3bec9ae8b3d5162b38f4d1365934d3fadf",
    "uncles":[
       
    ]
 };

var finalizedbBockResult = {
        "baseFeePerGas": "0xafa8",
        "difficulty": "0x0",
        "extraData": "0x",
        "gasLimit": "0x1c9c380",
        "gasUsed": "0x6fe603",
        "hash": "0x7e382e9aa0e4dd7dab6db4b779f8f61c455042b1a823ccf58ffca6c9c2f2d275",
        "logsBloom": "0x0404000000000000001088800000020200000000000001000000000000021000008204000802000240280100000400840004810000001084100410000420000000000001000100004080000800400000005020000000000000000000000100080000000000000000200000000000000400000002000040000000001000000040000100000000000000000000000010000000000020000101000800004000080002080000000000004000010000140000000000044000000001020000000000000000800a000000080000000000020000000000000000000200800000000000000010010000000000000000000000000000000042088000000000000000000000",
        "miner": "0xf36f155486299ecaff2d4f5160ed5114c1f66000",
        "mixHash": "0x1192b7ba3c7182ba4846966f806329c7be8b86ec8c71cf8249b241a97ba37cee",
        "nonce": "0x0000000000000000",
        "number": "0x72b610",
        "parentHash": "0xc9603eaeb821c54caa41572df370e93ee961d36da1f0f8a51c55482927d6aa39",
        "receiptsRoot": "0xb8f30f6c441e5b084a5f0dba5a75e500c3c579029d578412a5c8a4c382af8360",
        "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
        "size": "0x568d",
        "stateRoot": "0xf40589dfe7bbfbc5ce8fe46b2bc7a06514e409c1983d82943e986a338484d611",
        "timestamp": "0x631255bc",
        "totalDifficulty": "0xa4a470",
        "transactions": [
            "0x3bde2fdd34b02f186d636c93158424f1b91ffbb45483fd7faadfbf07f33d0fe7",
            "0x572e35d98626280598b4199d506ad49eeb38664abbec0ac054418327c7e0a324",
            "0x1d349d2638aaefea8474adcd8c5780d8045f5e9c85c2768d18831511439bde75",
            "0xa8d65c4d94ff8807e6ef5d51c41f6a022e34dfedf2d5e503ee6278417a8995b9",
            "0x1438bca1e8a0d9afb6605f4bb2154fa57151a073e667e1029ce9ea9b2f0c6174",
            "0xd0eef7f30f5709528b498e54ada5bbfc3507c446f95600722171f4cf95da41ce",
            "0x900039cfea67e39af52571720f86fb3e08de9e1f69cb037fbe61229b46103b67",
            "0x19c347dfae117e936b3310935286b33a3115db4d4adfa6cf3d6ee4e980c1122d"
        ],
        "transactionsRoot": "0x8e5f3c430729222e3b152ca820a44b3bec9ae8b3d5162b38f4d1365934d3fadf",
        "uncles": []
}; 

var tests = [{
    args: ['0x47d33b27bb249a2dbab4c0612bf9caf4c1950855'],
    formattedArgs: ['0x47d33b27bb249a2dbab4c0612bf9caf4c1950855', false],
    result: blockResult,
    formattedResult: formattedBlockResult,
    call: 'eth_'+ method + 'ByHash'
},{
    args: [436],
    formattedArgs: ['0x1b4', false],
    result: blockResult,
    formattedResult: formattedBlockResult,
    call: 'eth_'+ method + 'ByNumber'
},{
    args: [436, true],
    formattedArgs: ['0x1b4', true],
    result: blockResultWithTx,
    formattedResult: formattedBlockResultWithTx,
    call: 'eth_'+ method + 'ByNumber'
},{
    args: ['safe', false],
    formattedArgs: ['safe', false],
    result: safebBockResult,
    formattedResult: safeFormattedBlockResult,
    call: 'eth_'+ method + 'ByNumber'
},{
    args: ['finalized', false],
    formattedArgs: ['finalized', false],
    result: finalizedbBockResult,
    formattedResult: finalizedFormattedBlockResult,
    call: 'eth_'+ method + 'ByNumber'
}];

testMethod.runTests('eth', method, tests);

